#!/bin/bash

# ############################################################################ #
# Fetch files from the ASCEM TPL web page
# ############################################################################ #

# This file is generated by CMake
# All @VAR@ are replaced with $VAR values
# Editing this file outside of the build system may cause 
# unintended consequences.

if [ ! -e @CURL_EXECUTABLE@ ]; then
  echo "CURL executable does not exist"
  exit 1
fi

if [ $# -eq 0 ]; then
  echo "Please supply a file name"
  exit 1
fi

ascem_tpl_url='https://software.lanl.gov/ascem/tpls'
fetchme=$@

echo "Fetching ${fetchme} from ${ascem_tpl_url}"

# We trust the ASCEM web site
@CURL_EXECUTABLE@ ${ascem_tpl_url}/${fetchme} --insecure --output @TPL_DOWNLOAD_DIR@/${fetchme}
curl_exit_code=$?
echo "curl exit return code: ${curl_exit_code}"

exit ${curl_exit_code}



